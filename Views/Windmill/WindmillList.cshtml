@model X.PagedList.IPagedList<MgWindManager.Models.Dto.WindmillShortDto>
@using X.PagedList.Mvc.Core

<p class="nav-item">
    <a class="nav-link text-dark" asp-area="" asp-controller="Windmill" asp-action="AddWindmill">Dodaj Wiatrak</a>
</p>

<h2>Jakies tam warunki logiczne - co najwyzej, filtrowanie aby wyrać konkretne</h2>
<p> gdy w innych miejsach na tej stornie, będe używać wszystkich elementów z listy
    W innym wypadku, powinienem stworzyć oddzielne parametry. aby nie pobierać nadmiaru danych
</p>

<form asp-controller="Windmill" asp-action="WindmillList" method="get">
    <label for="size">Elementów na stronie:</label>
    <input type="number" id="size" name="size" value="@Model.PageSize" min="1" max="100">
    <label for="search">Szukaj:</label>
    <input type="text" id="search" name="search" value="@ViewData["search"]">
    <button type="submit">Zastosuj</button>
</form>

<table class="table">
    <thead>
    <tr>
        <th>Name</th>
        <th>Latitude</th>
        <th>Longitude</th>
        <th>Height</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var windmillShortDto in Model)
    {
        <tr>
            <td><a href="@Url.Action("Windmill", "Windmill", new { guid = windmillShortDto.Guid })">@windmillShortDto.Name</a></td>
            <td>@windmillShortDto.Latitude</td>
            <td>@windmillShortDto.Longitude</td>
            <td>@windmillShortDto.Height</td>
        </tr>
    }
    </tbody>
</table>

@Html.PagedListPager(Model, page => Url.Action("WindmillList", new { page, size = Model.PageSize }))